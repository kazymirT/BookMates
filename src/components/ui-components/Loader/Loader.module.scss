@import '@/styles';

.wrapper {

  $i: 2;

  position: fixed;
  z-index: 1000;
  top: 0;
  left: 0;

  display: grid;
  place-content: center;

  width: 100vw;
  height: 100vh;

  background-color: #1c212e;

  .loader {
    --background: linear-gradient(135deg, #23c4f8, #275efe);
    --shadow: #{rgba(#275efe, 0.28)};
    --text: #6c7486;
    --page: #{rgba(#fff, 0.36)};
    --page-fold: #{rgba(#fff, 0.52)};
    --duration: 3s;

    position: relative;
    width: 200px;
    height: 140px;

    &::before,
    &::after {
      --r: -6deg;

      content: '';

      position: absolute;
      top: 80%;
      bottom: 8px;
      transform: rotate(var(--r));

      width: 120px;

      box-shadow: 0 16px 12px var(--shadow);
    }

    &::before {
      left: 4px;
    }

    &::after {
      --r: 6deg;

      right: 4px;
    }

    div {
      position: relative;
      z-index: 1;

      width: 100%;
      height: 100%;

      perspective: 600px;
      background-image: var(--background);
      border-radius: 13px;
      box-shadow: 0 4px 6px var(--shadow);

      ul {
        position: relative;
        margin: 0;
        padding: 0;
        list-style: none;

        li {
          $i: 2;

          --r: 180deg;
          --o: 0;
          --c: var(--page);

          position: absolute;
          top: 10px;
          left: 10px;
          transform-origin: 100% 50%;
          transform: rotateY(var(--r));

          color: var(--c);

          opacity: var(--o);

          animation: var(--duration) ease infinite;

          svg {
            display: block;
            width: 90px;
            height: 120px;
          }

          &:first-child {
            --r: 0deg;
            --o: 1;
          }

          &:last-child {
            --o: 1;
          }

          @while $i < 6 {
            &:nth-child(#{$i}) {
              --c: var(--page-fold);

              animation-name: page-#{$i};
            }
            $i: $i + 1;
          }
        }
      }
    }

    span {
      top: 100%;
      right: 0;
      left: 0;

      display: block;

      margin-top: 20px;

      color: var(--text);
      text-align: center;
    }
  }

  @while $i < 6 {
    $delay: $i * 15 - 30;

    @keyframes page-#{$i} {
      #{0 + $delay}% {
        transform: rotateY(180deg);
        opacity: 0;
      }
      #{20 + $delay}% {
        opacity: 1;
      }
      #{35 + $delay}%,
      100% {
        opacity: 0;
      }
      #{50 + $delay}%,
      100% {
        transform: rotateY(0deg);
      }
    }
    $i: $i + 1;
  }
}
